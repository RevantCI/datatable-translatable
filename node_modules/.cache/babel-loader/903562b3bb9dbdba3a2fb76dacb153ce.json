{"ast":null,"code":"import _slicedToArray from \"/Volumes/GithubWorkspace/datatable-translatable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Volumes/GithubWorkspace/datatable-translatable/src/components/datatable/Cell.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nimport { BlockEditable } from 'markdown-translatable';\nvar inputFilters = [[/<br>/gi, '\\n']];\nvar outputFilters = [[/\\n/gi, '<br>']];\n\nvar Cell = function Cell(_ref) {\n  var classes = _ref.classes,\n      value = _ref.value,\n      tableMeta = _ref.tableMeta,\n      _ref$tableMeta = _ref.tableMeta,\n      columnData = _ref$tableMeta.columnData,\n      columnIndex = _ref$tableMeta.columnIndex,\n      rowIndex = _ref$tableMeta.rowIndex,\n      rowData = _ref$tableMeta.rowData,\n      rowHeader = _ref.rowHeader,\n      preview = _ref.preview;\n\n  var _value$split = value.split('\\t'),\n      _value$split2 = _slicedToArray(_value$split, 2),\n      original = _value$split2[0],\n      translation = _value$split2[1];\n\n  var component;\n  var blockEditableStyle = {\n    marginBottom: '-8px'\n  };\n\n  var onEdit = function onEdit(markdown) {\n    debugger; // editCell({rowIndex, columnIndex, value: markdown});\n  };\n\n  if (value === 'rowHeader' && rowHeader) {\n    var rowHeaderComponent = rowHeader(rowData.slice(1));\n    component = React.createElement(\"div\", {\n      className: classes.rowHeader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, rowHeaderComponent);\n  } else {\n    var subheading = React.createElement(Typography, {\n      className: classes.subheading,\n      variant: \"subtitle2\",\n      align: \"left\",\n      color: \"textSecondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, columnData.name);\n    var originalComponent = React.createElement(BlockEditable, {\n      style: blockEditableStyle,\n      raw: !preview,\n      markdown: original || '*empty*',\n      editable: false,\n      inputFilters: inputFilters,\n      outputFilters: outputFilters,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    });\n    var translationComponent = React.createElement(BlockEditable, {\n      style: blockEditableStyle,\n      raw: !preview,\n      markdown: translation,\n      editable: true,\n      inputFilters: inputFilters,\n      outputFilters: outputFilters,\n      onEdit: onEdit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    });\n    component = React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: classes.original,\n      style: blockStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, subheading, originalComponent), React.createElement(\"div\", {\n      className: classes.translation,\n      style: blockStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, translationComponent));\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, component);\n};\n\nCell.propTypes = {\n  /** @ignore */\n  classes: PropTypes.object.isRequired,\n  value: PropTypes.string.isRequired,\n  tableMeta: PropTypes.object.isRequired,\n  rowHeader: PropTypes.func.isRequired,\n  preview: PropTypes.bool\n};\nvar blockStyle = {};\n\nvar styles = function styles(theme) {\n  return {\n    root: {},\n    original: {\n      background: '#eee4',\n      display: 'inline-block',\n      width: '50%'\n    },\n    translation: {\n      display: 'inline-block',\n      width: '50%'\n    },\n    subheading: {\n      margin: '8px 24px -8px 24px',\n      fontSize: '0.8em',\n      fontStyle: 'italic'\n    },\n    rowHeader: {\n      borderBottom: '1px solid #ccc',\n      borderTop: '1px solid #ccc',\n      padding: '20px 24px 16px 24px',\n      position: 'sticky',\n      top: 100\n    }\n  };\n};\n\nvar StyleComponent = withStyles(styles)(Cell);\nexport default StyleComponent;","map":{"version":3,"sources":["/Volumes/GithubWorkspace/datatable-translatable/src/components/datatable/Cell.js"],"names":["React","PropTypes","withStyles","Typography","BlockEditable","inputFilters","outputFilters","Cell","classes","value","tableMeta","columnData","columnIndex","rowIndex","rowData","rowHeader","preview","split","original","translation","component","blockEditableStyle","marginBottom","onEdit","markdown","rowHeaderComponent","slice","subheading","name","originalComponent","translationComponent","blockStyle","root","propTypes","object","isRequired","string","func","bool","styles","theme","background","display","width","margin","fontSize","fontStyle","borderBottom","borderTop","padding","position","top","StyleComponent"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\n\nimport { BlockEditable } from 'markdown-translatable';\n\nconst inputFilters = [[/<br>/gi, '\\n']];\nconst outputFilters = [[/\\n/gi, '<br>']];\n\nconst Cell = ({\n  classes,\n  value,\n  tableMeta,\n  tableMeta: {\n    columnData,\n    columnIndex,\n    rowIndex,\n    rowData,\n  },\n  rowHeader,\n  preview,\n}) => {\n  const [original, translation] = value.split('\\t');\n  let component;\n\n  const blockEditableStyle = {\n    marginBottom: '-8px',\n  };\n\n  const onEdit = (markdown) => {\n    debugger\n    // editCell({rowIndex, columnIndex, value: markdown});\n  };\n\n  if (value === 'rowHeader' && rowHeader) {\n    const rowHeaderComponent = rowHeader(rowData.slice(1));\n    component = (\n      <div className={classes.rowHeader}>\n        {rowHeaderComponent}\n      </div>\n    );\n  } else {\n    const subheading = (\n      <Typography\n        className={classes.subheading}\n        variant='subtitle2'\n        align='left'\n        color='textSecondary'\n      >\n        {columnData.name}\n      </Typography>\n    )\n    const originalComponent = (\n      <BlockEditable\n        style={blockEditableStyle}\n        raw={!preview}\n        markdown={original || '*empty*'}\n        editable={false}\n        inputFilters={inputFilters}\n        outputFilters={outputFilters}\n      />\n    );\n    const translationComponent = (\n      <BlockEditable\n        style={blockEditableStyle}\n        raw={!preview}\n        markdown={translation}\n        editable={true}\n        inputFilters={inputFilters}\n        outputFilters={outputFilters}\n        onEdit={onEdit}\n      />\n    );\n    component = (\n      <>\n        <div className={classes.original} style={blockStyle}>\n          {subheading}\n          {originalComponent}\n        </div>\n        <div className={classes.translation} style={blockStyle}>\n          {translationComponent}\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <div className={classes.root}>\n      {component}\n    </div>\n  );\n};\n\nCell.propTypes = {\n  /** @ignore */\n  classes: PropTypes.object.isRequired,\n  value: PropTypes.string.isRequired,\n  tableMeta: PropTypes.object.isRequired,\n  rowHeader: PropTypes.func.isRequired,\n  preview: PropTypes.bool,\n};\n\nconst blockStyle = {};\n\nconst styles = theme => ({\n  root: {\n  },\n  original: {\n    background: '#eee4',\n    display: 'inline-block',\n    width: '50%',\n  },\n  translation: {\n    display: 'inline-block',\n    width: '50%',\n  },\n  subheading: {\n    margin: '8px 24px -8px 24px',\n    fontSize: '0.8em',\n    fontStyle: 'italic',\n  },\n  rowHeader: {\n    borderBottom: '1px solid #ccc',\n    borderTop: '1px solid #ccc',\n    padding: '20px 24px 16px 24px',\n    position: 'sticky',\n    top: 100,\n  }\n});\n\nconst StyleComponent = withStyles(styles)(Cell);\nexport default StyleComponent;\n"]},"metadata":{},"sourceType":"module"}