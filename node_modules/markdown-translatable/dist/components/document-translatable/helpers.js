"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.markdownFromSections = exports.sectionsFromMarkdown = void 0;

var sectionsFromMarkdown = function sectionsFromMarkdown(_ref) {
  var markdown = _ref.markdown;
  var sections = [];
  var section = [];
  var blocks = markdown.replace(/<br>/gi, '\n').split(/\n\n/g);
  blocks.forEach(function (block) {
    var headingRegex = /^\s?#+/;
    var heading = headingRegex.test(block);

    if (section.length > 0 && heading) {
      sections.push(section);
      section = [];
    }

    section.push(block);
  }); // don't leave a dangling section

  if (section !== []) {
    sections.push(section);
    section = [];
  }

  sections = sections.map(function (blocks) {
    return blocks.join("\n\n");
  });
  return sections;
};

exports.sectionsFromMarkdown = sectionsFromMarkdown;

var markdownFromSections = function markdownFromSections(_ref2) {
  var sections = _ref2.sections;
  return sections.join("\n\n");
};

exports.markdownFromSections = markdownFromSections;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2RvY3VtZW50LXRyYW5zbGF0YWJsZS9oZWxwZXJzLmpzIl0sIm5hbWVzIjpbInNlY3Rpb25zRnJvbU1hcmtkb3duIiwibWFya2Rvd24iLCJzZWN0aW9ucyIsInNlY3Rpb24iLCJibG9ja3MiLCJyZXBsYWNlIiwic3BsaXQiLCJmb3JFYWNoIiwiYmxvY2siLCJoZWFkaW5nUmVnZXgiLCJoZWFkaW5nIiwidGVzdCIsImxlbmd0aCIsInB1c2giLCJtYXAiLCJqb2luIiwibWFya2Rvd25Gcm9tU2VjdGlvbnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDTyxJQUFNQSxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQXVCLE9BQWdCO0FBQUEsTUFBZEMsUUFBYyxRQUFkQSxRQUFjO0FBQ2xELE1BQUlDLFFBQVEsR0FBRyxFQUFmO0FBQ0EsTUFBSUMsT0FBTyxHQUFHLEVBQWQ7QUFDQSxNQUFNQyxNQUFNLEdBQUdILFFBQVEsQ0FBQ0ksT0FBVCxDQUFpQixRQUFqQixFQUEwQixJQUExQixFQUFnQ0MsS0FBaEMsQ0FBc0MsT0FBdEMsQ0FBZjtBQUNBRixFQUFBQSxNQUFNLENBQUNHLE9BQVAsQ0FBZSxVQUFBQyxLQUFLLEVBQUk7QUFDdEIsUUFBTUMsWUFBWSxHQUFHLFFBQXJCO0FBQ0EsUUFBTUMsT0FBTyxHQUFHRCxZQUFZLENBQUNFLElBQWIsQ0FBa0JILEtBQWxCLENBQWhCOztBQUNBLFFBQUtMLE9BQU8sQ0FBQ1MsTUFBUixHQUFpQixDQUFsQixJQUF3QkYsT0FBNUIsRUFBcUM7QUFDbkNSLE1BQUFBLFFBQVEsQ0FBQ1csSUFBVCxDQUFjVixPQUFkO0FBQ0FBLE1BQUFBLE9BQU8sR0FBRyxFQUFWO0FBQ0Q7O0FBQ0RBLElBQUFBLE9BQU8sQ0FBQ1UsSUFBUixDQUFhTCxLQUFiO0FBQ0QsR0FSRCxFQUprRCxDQWFsRDs7QUFDQSxNQUFJTCxPQUFPLEtBQUssRUFBaEIsRUFBb0I7QUFDbEJELElBQUFBLFFBQVEsQ0FBQ1csSUFBVCxDQUFjVixPQUFkO0FBQ0FBLElBQUFBLE9BQU8sR0FBRyxFQUFWO0FBQ0Q7O0FBQ0RELEVBQUFBLFFBQVEsR0FBR0EsUUFBUSxDQUFDWSxHQUFULENBQWEsVUFBQVYsTUFBTTtBQUFBLFdBQUlBLE1BQU0sQ0FBQ1csSUFBUCxRQUFKO0FBQUEsR0FBbkIsQ0FBWDtBQUNBLFNBQU9iLFFBQVA7QUFDRCxDQXBCTTs7OztBQXNCQSxJQUFNYyxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQXVCO0FBQUEsTUFBRWQsUUFBRixTQUFFQSxRQUFGO0FBQUEsU0FDbENBLFFBQVEsQ0FBQ2EsSUFBVCxRQURrQztBQUFBLENBQTdCIiwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgY29uc3Qgc2VjdGlvbnNGcm9tTWFya2Rvd24gPSAoe21hcmtkb3dufSkgPT4ge1xuICBsZXQgc2VjdGlvbnMgPSBbXTtcbiAgbGV0IHNlY3Rpb24gPSBbXTtcbiAgY29uc3QgYmxvY2tzID0gbWFya2Rvd24ucmVwbGFjZSgvPGJyPi9naSwnXFxuJykuc3BsaXQoL1xcblxcbi9nKTtcbiAgYmxvY2tzLmZvckVhY2goYmxvY2sgPT4ge1xuICAgIGNvbnN0IGhlYWRpbmdSZWdleCA9IC9eXFxzPyMrLztcbiAgICBjb25zdCBoZWFkaW5nID0gaGVhZGluZ1JlZ2V4LnRlc3QoYmxvY2spO1xuICAgIGlmICgoc2VjdGlvbi5sZW5ndGggPiAwKSAmJiBoZWFkaW5nKSB7XG4gICAgICBzZWN0aW9ucy5wdXNoKHNlY3Rpb24pO1xuICAgICAgc2VjdGlvbiA9IFtdO1xuICAgIH1cbiAgICBzZWN0aW9uLnB1c2goYmxvY2spO1xuICB9KTtcbiAgLy8gZG9uJ3QgbGVhdmUgYSBkYW5nbGluZyBzZWN0aW9uXG4gIGlmIChzZWN0aW9uICE9PSBbXSkge1xuICAgIHNlY3Rpb25zLnB1c2goc2VjdGlvbik7XG4gICAgc2VjdGlvbiA9IFtdO1xuICB9XG4gIHNlY3Rpb25zID0gc2VjdGlvbnMubWFwKGJsb2NrcyA9PiBibG9ja3Muam9pbihgXFxuXFxuYCkpO1xuICByZXR1cm4gc2VjdGlvbnM7XG59O1xuXG5leHBvcnQgY29uc3QgbWFya2Rvd25Gcm9tU2VjdGlvbnMgPSAoe3NlY3Rpb25zfSkgPT5cbiAgc2VjdGlvbnMuam9pbihgXFxuXFxuYCk7XG4iXX0=